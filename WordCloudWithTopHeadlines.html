<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Word Cloud Practice</title>


<script src="https://cdn.anychart.com/releases/8.7.0/js/anychart-core.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.7.0/js/anychart-tag-cloud.min.js"></script>

<style>
      html, body, #container {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      }

      text {
      	font-family: american typewriter ! important;
      	color: black ! important;
      }
</style>   


  </head>
  <body onload="getTopArticles()">
    <div id="container" class='textStyling'></div>
    	<script language='javascript'>

      function getTopArticles() {
  //step 1: request object created
  request = new XMLHttpRequest();

  //step 2

  //var word = "Obama";
  request.open("GET",
    "https://newsapi.org/v2/everything?domains=wsj.com,nytimes.com,abc-news,cbs-news,cnbc,cnn,espn,fox-news, msnbc, the-washington-post&language=en&pageSize=100&apiKey=ac41e42a0219400fbbc4a9a52887d40f"
    , true);

  //step 3
  request.onreadystatechange = function() {
    console.log(request.readyState);
    if (request.readyState == 3 && request.status == 200) {
      result = request.responseText;
    }

    else if (request.readyState == 4 && request.status !=200) {
      result = request.responseText;
    }
    else if (request.readyState == 4 && request.status == 200) {

      // Step 5: wait for done + success
        var result = JSON.parse(request.responseText);
        var articles = result.articles;

        //cycles through array and prints headline title and web_url as strings
        for (i=0;i<100;i++) {
        var string_headline = JSON.stringify(articles[i].title)
        //document.getElementById("articleList").innerHTML += string_headline + "<br>";
        var data;
        console.log("counter");
        //console.log(string_headline);
        data += string_headline.replace(/â€™s /g," ") + " ";
        console.log(data);

      }
      anychart.onDocumentReady(function () {

    // create data

    // create a chart
    var chart = anychart.tagCloud();
    chart.normal().fill("#d3d3d3");
    chart.hovered().fill("#a9a9a9");
    chart.selected().fill("#1f66ad");
    chart.normal().fontWeight(600);
    //chart.mode("rect");

    // set the parsing mode and configure parsing settings
    chart.data(data, {
    mode: "by-word",
    maxItems: 16,
    ignoreItems: ['i', 'me', 'my', 'myself', 'we', 'us', 'our', 'ours', 'ourselves', 'you', 'your', 'yours',
        'yourself', 'yourselves', 'he', 'him', 'his', 'himself', 'she', 'her', 'hers', 'herself', 'it', 'its', 'itself',
        'they', 'them', 'their', 'theirs', 'themselves', 'what', 'which', 'who', 'whom', 'whose', 'this', 'that', 'these',
        'those', 'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do', 'does',
        'did', 'doing', 'will', 'would', 'should', 'can', 'could', 'ought', 'im', 'youre', 'hes', 'shes', 'its',
        'were', 'theyre', 'ive', 'youve', 'weve', 'theyve', 'id', 'youd', 'hed', 'shed', 'wed',
        'theyd', 'ill', 'youll', 'hell', 'shell', 'well', 'theyll', 'isnt', 'arent', 'wasnt',
        'werent', 'hasnt', 'havent', 'hadnt', 'doesnt', 'dont', 'didnt', 'wont', 'wouldnt', 'shant',
        'shouldnt', 'cant', 'cannot', 'couldnt', 'mustnt', 'lets', 'thats', 'whos', 'whats', 'heres',
        'theres', 'whens', 'wheres', 'whys', 'hows', 'a', 'an', 'the', 'and', 'but', 'if', 'or', 'because', 'as',
        'until', 'while', 'of', 'at', 'by', 'for', 'with', 'about', 'against', 'between', 'into', 'through', 'during',
        'before', 'after', 'above', 'below', 'to', 'from', 'up', 'upon', 'down', 'in', 'out', 'on', 'off', 'over', 'under',
        'again', 'further', 'then', 'once', 'here', 'there', 'when', 'where', 'why', 'how', 'all', 'any', 'both', 'each',
        'few', 'more', 'most', 'other', 'some', 'such', 'no', 'nor', 'not', 'only', 'own', 'same', 'so', 'than', 'too',
        'very', 'say', 'says', 'said', 'shall', 'wall', 'street', 'journal', "times", "street", "new", "york", 'may']
    });

    // set the chart title
    chart.title("Today's Word Cloud");

    // set the container id
    chart.container("container");

    // initiate drawing the chart
    chart.draw();
    });

      }
  }

  //step 4: fire off HTTPrequest
  request.send();
}
</script>
</body>

<script language='javascript'>
		
</script>
</html>
